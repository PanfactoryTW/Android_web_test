<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Advanced Checkbox Test Station</title>
    <style>
        body { font-family: sans-serif; padding: 20px; }
        .test-group { margin-bottom: 20px; border: 1px solid #ddd; padding: 10px; }
        /* 讓自定義 Checkbox 看起來像個東西 */
        [role="checkbox"] { 
            display: inline-block; padding: 5px; border: 1px solid #666; cursor: pointer; 
        }
        [role="checkbox"][aria-checked="true"]::before { content: "☑️ "; }
        [role="checkbox"][aria-checked="false"]::before { content: "⬜ "; }
    </style>
</head>
<body>
    <h2>Checkbox 深度測試頁面</h2>

    <div class="test-group">
        <h3>原生控制項 (Native)</h3>
        <label><input type="checkbox"> 預設未選</label><br>
        <label><input type="checkbox" checked> 預設已選</label><br>
        <label><input type="checkbox" disabled> 停用 (Disabled)</label><br>
        <label><input type="checkbox" aria-invalid="true"> 錯誤狀態 (Invalid)</label>
    </div>

    <div class="test-group">
        <h3>自定義控制項 (ARIA)</h3>
        <div role="checkbox" aria-checked="false" tabindex="0">ARIA 模擬核取方塊</div>
        <div role="checkbox" aria-checked="true" aria-disabled="true" tabindex="0">ARIA 停用且已選</div>
    </div>

    <fieldset class="test-group">
        <legend>興趣調查 (Fieldset 群組)</legend>
        <label><input type="checkbox" name="music"> 音樂製作</label><br>
        <label><input type="checkbox" name="tech"> 自動化測試</label>
    </fieldset>

    <script>
        // 增加點擊邏輯，方便你測試 TalkBack 的動態朗讀變化
        document.querySelectorAll('[role="checkbox"]').forEach(el => {
            el.addEventListener('click', () => {
                const checked = el.getAttribute('aria-checked') === 'true';
                el.setAttribute('aria-checked', !checked);
            });
        });
    </script>
</body>
</html>
